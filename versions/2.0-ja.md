# OpenAPI 仕様
## (旧 Swagger RESTful API 文書化仕様)

#### バージョン 2.0

この文書内の「しなければならない(MUST)」「してはならない(MUST NOT)」「必要とする(REQUIRED)」「するべき(SHALL)」「するべきでない(SHALL NOT)」「した方が良い(SHOULD)」「しない方が良い(SHOULD NOT)」
「推奨する(RECOMMENDED)」「してもよい(MAY)」「任意の(OPTIONAL)」の用語は、[RFC 2119](http://www.ietf.org/rfc/rfc2119.txt) に記述されているとおりに解釈すること。

Swagger 仕様は、[Apache ライセンス バージョン 2.0](http://www.apache.org/licenses/LICENSE-2.0.html) の元で、ライセンスされる。

## 導入

Swagger(TM)  は、RESTful APIを記述し、文書化するためのプロジェクトである。

Swagger仕様はこのようなAPIを記述するために必要なファイルの集合を定義する。これらのファイルを使って、Swagger-UI プロジェクトでAPIを表示したり、Swagger-Codegen で様々な言語のクライアントを生成したりできる。
テストツールのようなその他のユーティリティも、生成されるファイルを活用することができる。

## 改版履歴

バージョン | 日付 | 注記
--- | --- | ---
2.0 | 2014-09-08 | Swagger 2.0 リリース
1.2 | 2014-03-14 | 正式な文書の初期リリース
1.1 | 2012-08-22 | Swagger 1.1 リリース
1.0 | 2011-08-10 | Swagger 仕様の初回リリース

## 定義

##### <a name="pathTemplating"></a>パステンプレート
パステンプレートとは、URLパスの一部を、パスパラメータによって置き換え可能としてマークする中括弧 ({}) の使用法を指す。

##### <a name="mimeTypes"></a>Mime タイプ
Mime タイプの定義は複数のリソースにまたがっている。Mime タイプの定義は、[RFC 6838](http://tools.ietf.org/html/rfc6838) に準拠した方がよい(should)。

mimeタイプ定義の例は以下の通りである。
```
  text/plain; charset=utf-8
  application/json
  application/vnd.github+json
  application/vnd.github.v3+json
  application/vnd.github.v3.raw+json
  application/vnd.github.v3.text+json
  application/vnd.github.v3.html+json
  application/vnd.github.v3.full+json
  application/vnd.github.v3.diff
  application/vnd.github.v3.patch
```
##### <a name="httpCodes"></a>HTTP ステータスコード
HTTP ステータスコードは実行した操作の状態を示すために使う。利用できるステータスコードは [RFC 7231](http://tools.ietf.org/html/rfc7231#section-6) と [IANA Status Code Registry](http://www.iana.org/assignments/http-status-codes/http-status-codes.xhtml) に記述されている。

## 仕様

### 形式

Swagger 仕様に沿って RESTful API を記述するファイルは、JSON オブジェクトとして表され、JSON 標準に従う。JSONの上位互換である YAML も同様にSwagger仕様ファイルを表現するために使用できる。

例えば、項目が配列の値を持つことを表現したい場合、JSON配列表現を使用する。

```js
{
   "field" : [...]
}
```

APIはJSONを使用して記述されるが、API自身の入出力がJSONに強制されることはない。

仕様における全ての項目名は **大文字小文字を区別する**。

スキーマは２種類の項目を公開する。固定項目は、宣言された名前を持ち、パターン化項目は正規表現パターンによって宣言された名前を持つ。パターン化項目は、それぞれの項目が一意な名前を持つ限り、複数回出現することができる。

### ファイル構造

Swagger のAPI表現は単一のファイルからなる。しかし、利用者の裁量で、定義の一部を別のファイルに分割することができる。
これは、後述の仕様における [JSON Schema](http://json-schema.org) 定義のような、`$ref` 項目にも適用できる。

慣例として、Swagger 仕様ファイルは `swagger.json` という名前にする。

### データ型

Swagger 仕様におけるプリミティブデータ型は、[JSON-Schema Draft 4](https://tools.ietf.org/html/draft-zyp-json-schema-04#section-3.5) でサポートされている型にもとづいている。
モデルは JSON Schema Draft 4 のサブセットである [Schema オブジェクト](#schemaObject) を使って記述される。

追加のプリミティブデータ型 `"file"` は、[Parameter オブジェクト](#parameterObject) および [Response オブジェクト](#responseObject) で、パラメータやレスポンスがファイルであることを表現するために使用する。

<a name="dataTypeFormat"></a> プリミティブ型は任意の修飾プロパティ `format` がある。Swagger は、使用するデータ型を精密に定義するために、幾つかのよく知られた形式を使用する。
しかし、`format` プロパティは `string`の値を自由入力するプロパティであり、文書化の必要に応じてどのような値でも持つことができる。
`"email"`や`"uuid"`といった形式などは、この仕様で定義されていなくても使用することができる。`format` プロパティがない型は、JSON Schema におけるその定義（上で定義した`file`型を除く）に従う。
Swagger 仕様が定める format は以下の通りである。


一般的な名前 | [`type`](#dataTypeType) | [`format`](#dataTypeFormat) | コメント
----------- | ------ | -------- | --------
integer | `integer` | `int32` | 符号付き 32 ビット
long | `integer` | `int64` | 符号付き 64 ビット
float | `number` | `float` | |
double | `number` | `double` | |
string | `string` | | |
byte | `string` | `byte` | base64 エンコードされた文字列
binary | `string` | `binary` | 任意のオクテットの列
boolean | `boolean` | | |
date | `string` | `date` | [RFC3339](http://xml2rfc.ietf.org/public/rfc/html/rfc3339.html#anchor14) における `full-date` の定義による。
dateTime | `string` | `date-time` | [RFC3339](http://xml2rfc.ietf.org/public/rfc/html/rfc3339.html#anchor14) における `date-time` の定義による。
password | `string` | `password` | 入力を隠す必要がある UI の手がかりを与えるために使用する。

### スキーマ

#### <a name="swaggerObject"></a>Swagger オブジェクト

これは、API仕様における最上位のドキュメントオブジェクトである。かつてはリソースリストとAPI宣言（バージョン1.2以前）だったものを束ねて一つのドキュメントにしている。

##### 固定項目

項目名 | 型 | 説明
---|:---:|---
<a name="swaggerSwagger"></a>swagger | `string` | **必須。** 使用する Swagger仕様のバージョンを指定する。Swagger UIやその他のクライアントによってAPIリストを解釈するために使われる。値は `"2.0"` でなければならない(MUST)。
<a name="swaggerInfo"></a>info | [Info オブジェクト](#infoObject) | **必須。** APIに関するメタデータを提供する。クライアントの必要に応じて使用することができる。
<a name="swaggerHost"></a>host | `string` | APIを提供するホスト（名前またはIP）。これはホストのみで、スキーマや下位のパスを含んではならない(MUST)。ポート番号を含めてもよい(MAY)。`host` が省略された場合、ドキュメントを提供するホストが（ポート番号も含め）使用される。`host` では [パステンプレート](#pathTemplating) は使えない。
<a name="swaggerBasePath"></a>basePath | `string` | APIが提供される基底となる、[`host`](#swaggerHost) からの相対的なパス。省略された場合、APIは `host` の直下で提供される。値はスラッシュ(`/`)で始めなければならない(MUST)。 `basePath` では [パステンプレート](#pathTemplating)は使えない。
<a name="swaggerSchemes"></a>schemes | [`string`] | APIの転送プロトコル。値は `"http"`, `"https"`, `"ws"`, `"wss"` のいずれかでなければならない(MUST)。`schemes`  が省略された場合、既定のスキームはSwagger定義自身にアクセスするために使われたプロトコルとなる。
<a name="swaggerConsumes"></a>consumes | [`string`] | APIが受け取ることのできるMIMEタイプのリスト。全てのAPIに適用されるが、個別のAPI呼出しで上書き可能である。値は、[Mime タイプ](#mimeTypes)で記述された内容に従わなければならない(MUST)。
<a name="swaggerProduces"></a>produces | [`string`] | APIが戻す可能性があるMIMEタイプのリスト。全てのAPIに適用されるが、個別のAPI呼出しで上書き可能である。値は、[Mime タイプ](#mimeTypes)で記述された内容に従わなければならない(MUST)。
<a name="swaggerPaths"></a>paths | [Paths オブジェクト](#pathsObject) | **必須。** APIで利用可能なパスと操作。
<a name="swaggerDefinitions"></a>definitions | [Definitions オブジェクト](#definitionsObject) | 操作が受け取ったり返したりするデータを保持するためのオブジェクト。
<a name="swaggerParameters"></a>parameters | [Parameters Definitions オブジェクト](#parametersDefinitionsObject) | 複数の操作にまたがって使用できる、パラメータを保持するためのオブジェクト。このプロパティで全ての操作に共通のパラメータを *定義することはない* 。
<a name="swaggerResponses"></a>responses | [Responses Definitions オブジェクト](#responsesDefinitionsObject) | 複数の操作にまたがって使用できる、レスポンスを保持するためのオブジェクト。このプロパティで全ての操作に共通のレスポンスを *定義することはない* 。
<a name="swaggerSecurityDefinitions"></a>securityDefinitions | [Security Definitions オブジェクト](#securityDefinitionsObject) | 仕様全体で使われる セキュリティスキーマ定義。
<a name="swaggerSecurity"></a>security | [[Security Requirement オブジェクト](#securityRequirementObject)] | API全体に適用されるセキュリティスキーマの宣言。リストの値は、選択的に使用できるスキーマを表す（つまり、セキュリティ要件のOR条件になる）。個別の操作はこの定義を上書きできる。
<a name="swaggerTags"></a>tags | [[Tag オブジェクト](#tagObject)] | 追加のメタデータとして仕様で使われるタグのリスト。タグの並び順は、仕様を解釈するツールによって、それらの順番を反映するために使うことができる。 宣言した全てのタグが [Operation オブジェクト](#operationObject) で使われる必要はない。タグが宣言されていない場合、無作為にまたはツール独自の処理によって分類してよい(MAY)。リスト中のそれぞれのタグの名前は一意でなければならない(MUST)。
<a name="swaggerExternalDocs"></a>externalDocs | [External Documentation オブジェクト](#externalDocumentationObject) | 追加の外部文書。

##### パターン化項目

項目パターン | 型 | 説明
---|:---:|---
<a name="swaggerExtensions"></a>^x- | Any | Swaggerスキーマを拡張できる。項目名は `x-` で始めなければならない(MUST)。例えば、`x-internal-id`などである。値は `null`、 プリミティブ型、配列、オブジェクトを取りうる。 詳細は[仕様の拡張](#vendorExtensions) を参照。

#### <a name="infoObject"></a>Info オブジェクト

APIに関するメタデータを提供するオブジェクト。メタデータは必要に応じてクライアントが利用したり、利便性のためにSwagger-UIで表示したりできる。

##### 固定項目

項目名 | 型 | 説明
---|:---:|---
<a name="infoTitle"></a>title | `string` | **必須。** アプリケーションのタイトル。
<a name="infoDescription"></a>description | `string` | アプリケーションの短い説明。 リッチテキスト表現として、[GFM syntax](https://guides.github.com/features/mastering-markdown/#GitHub-flavored-markdown) を使用できる。
<a name="infoTermsOfService"></a>termsOfService | `string` | APIのサービス利用規約。
<a name="infoContact"></a>contact | [Contact オブジェクト](#contactObject) | 公開されているAPIの連絡先情報。
<a name="infoLicense"></a>license | [License オブジェクト](#licenseObject) | 公開されているAPIのライセンス情報。
<a name="infoVersion"></a>version | `string` | **必須。** アプリケーションAPIのバージョン（仕様のバージョンと混同しないこと）を提供する。

##### パターン化項目

項目パターン | 型 | 説明
---|:---:|---
<a name="infoExtensions"></a>^x- | Any | Swaggerスキーマを拡張できる。項目名は `x-` で始めなければならない(MUST)。例えば、`x-internal-id`などである。値は `null`、 プリミティブ型、配列、オブジェクトを取りうる。 詳細は[仕様の拡張](#vendorExtensions) を参照。

##### Info オブジェクトの例

```js
{
  "title": "Swagger サンプルアプリケーション",
  "description": "ペットショップサーバのサンプルです。",
  "termsOfService": "http://swagger.io/terms/",
  "contact": {
    "name": "API サポート",
    "url": "http://www.swagger.io/support",
    "email": "support@swagger.io"
  },
  "license": {
    "name": "Apache 2.0",
    "url": "http://www.apache.org/licenses/LICENSE-2.0.html"
  },
  "version": "1.0.1"
}
```

```yaml
title: Swagger サンプルアプリケーション
description: ペットショップサーバのサンプルです。
termsOfService: http://swagger.io/terms/
contact:
  name: API サポート
  url: http://www.swagger.io/support
  email: support@swagger.io
license:
  name: Apache 2.0
  url: http://www.apache.org/licenses/LICENSE-2.0.html
version: 1.0.1
```

#### <a name="contactObject"></a>Contact オブジェクト

公開されているAPIの連絡先情報。

##### 固定項目

項目名 | 型 | 説明
---|:---:|---
<a name="contactName"></a>name | `string` | 連絡先の人物／組織を識別する名前。
<a name="contactUrl"></a>url | `string` | 連絡先情報を指すURL。URLの形式でなければならない(MUST)。
<a name="contactEmail"></a>email | `string` | 連絡先の人物／組織のメールアドレス。メールアドレスの形式でなければならない(MUST)。

##### パターン化項目

項目パターン | 型 | 説明
---|:---:|---
<a name="contactExtensions"></a>^x- | Any | Swaggerスキーマを拡張できる。項目名は `x-` で始めなければならない(MUST)。例えば、`x-internal-id`などである。値は `null`、 プリミティブ型、配列、オブジェクトを取りうる。 詳細は[仕様の拡張](#vendorExtensions) を参照。

##### Contact オブジェクトの例

```js
{
  "name": "API サポート",
  "url": "http://www.swagger.io/support",
  "email": "support@swagger.io"
}
```

```yaml
name: API サポート
url: http://www.swagger.io/support
email: support@swagger.io
```

#### <a name="licenseObject"></a>License オブジェクト

公開されているAPIのライセンス情報。

##### 固定項目

項目名 | 型 | 説明
---|:---:|---
<a name="licenseName"></a>name | `string` | **必須。** APIが使用するライセンスの名前。
<a name="licenseUrl"></a>url | `string` | APIが使用するライセンスのURL。URLの形式でなければならない(MUST)。

##### パターン化項目

項目パターン | 型 | 説明
---|:---:|---
<a name="licenseExtensions"></a>^x- | Any | Swaggerスキーマを拡張できる。項目名は `x-` で始めなければならない(MUST)。例えば、`x-internal-id`などである。値は `null`、 プリミティブ型、配列、オブジェクトを取りうる。 詳細は[仕様の拡張](#vendorExtensions) を参照。

##### License オブジェクトの例

```js
{
  "name": "Apache 2.0",
  "url": "http://www.apache.org/licenses/LICENSE-2.0.html"
}
```

```yaml
name: Apache 2.0
url: http://www.apache.org/licenses/LICENSE-2.0.html
```

#### <a name="pathsObject"></a>Paths オブジェクト

個別のエンドポイントへの相対パスを保持する。パスは、完全なURLを作るために、[`basePath`](#swaggerBasePath) の後ろに追加される。Paths は、[セキュリティフィルタリング](#securityFiltering) によって空になってもよい(MAY)。

##### パターン化項目

項目パターン | 型 | 説明
---|:---:|---
<a name="pathsPath"></a>/{path} | [Path Item オブジェクト](#pathItemObject) | 個別のエンドポイントへの相対パス。項目名はスラッシュで始めなければならない(MUST)。パスは、完全なURLを作るために、[`basePath`](#swaggerBasePath) の後ろに追加される。 [パステンプレート](#pathTemplating) が使用できる。
<a name="pathsExtensions"></a>^x- | Any | Swaggerスキーマを拡張できる。項目名は `x-` で始めなければならない(MUST)。例えば、`x-internal-id`などである。値は `null`、 プリミティブ型、配列、オブジェクトを取りうる。 詳細は[仕様の拡張](#vendorExtensions) を参照。

##### Paths オブジェクトの例

```js
{
  "/pets": {
    "get": {
      "description": "ユーザがアクセスできる全てのペットをシステムから返す。",
      "produces": [
        "application/json"
      ],
      "responses": {
        "200": {
          "description": "ペットのリスト",
          "schema": {
            "type": "array",
            "items": {
              "$ref": "#/definitions/pet"
            }
          }
        }
      }
    }
  }
}
```

```yaml
/pets:
  get:
    description: ユーザがアクセスできる全てのペットをシステムから返す。
    produces:
    - application/json
    responses:
      '200':
        description: ペットのリスト
        schema:
          type: array
          items:
            $ref: '#/definitions/pet'
```

#### <a name="pathItemObject"></a>Path Item オブジェクト

一つのパスで可能な操作を記述する。
Path Itemは、[セキュリティフィルタリング](#securityFiltering) によって空になってもよい(MAY)。文書表示上は、パス自身は公開されたままであるが、どのような操作が利用できるかはわからなくなる。

##### 固定項目

項目名 | 型 | 説明
---|:---:|---
<a name="pathItemRef"></a>$ref | `string` | このパスアイテムの外部定義を行う。参照先の構造は、[Path Item オブジェクト](#pathItemObject) の形式でなければならない(MUST)。参照先の定義と Path Itemの定義が衝突した場合、振る舞いは *定義されない*。
<a name="pathItemGet"></a>get | [Operation オブジェクト](#operationObject) | このパスの GET 操作の定義。
<a name="pathItemPut"></a>put | [Operation オブジェクト](#operationObject) | このパスの PUT 操作の定義。
<a name="pathItemPost"></a>post | [Operation オブジェクト](#operationObject) | このパスの POST 操作の定義。
<a name="pathItemDelete"></a>delete | [Operation オブジェクト](#operationObject) | このパスの DELETE 操作の定義。
<a name="pathItemOptions"></a>options | [Operation オブジェクト](#operationObject) | このパスの OPTIONS 操作の定義。
<a name="pathItemHead"></a>head | [Operation オブジェクト](#operationObject) | このパスの HEAD 操作の定義。
<a name="pathItemPatch"></a>patch | [Operation オブジェクト](#operationObject) | このパスの PATCH 操作の定義。
<a name="pathItemParameters"></a>parameters | [[Parameter オブジェクト](#parameterObject) \| [Reference オブジェクト](#referenceObject)] | このパスの全ての操作に適用できるパラメータのリスト。これらのパラメータは操作レベルで上書き可能であるが、削除することはできない。リスト中に重複したパラメータを含んではならない(MUST NOT)。パラメータの一意性は、[name](#parameterName) と [場所](#parameterIn) の組み合わせによって決定される。リストでは [Swagger オブジェクトの parameters](#swaggerParameters) で定義されたパラメータにリンクするために [Reference オブジェクト](#referenceObject) を使用できる。"body" パラメータは最大でも１つしか存在できない。

##### パターン化項目

項目パターン | 型 | 説明
---|:---:|---
<a name="pathItemExtensions"></a>^x- | Any | Swaggerスキーマを拡張できる。項目名は `x-` で始めなければならない(MUST)。例えば、`x-internal-id`などである。値は `null`、 プリミティブ型、配列、オブジェクトを取りうる。 詳細は[仕様の拡張](#vendorExtensions) を参照。

##### Path Item オブジェクトの例

```js
{
  "get": {
    "description": "IDに基づいてペットを返す。",
    "summary": "IDでペットを検索する。",
    "operationId": "getPetsById",
    "produces": [
      "application/json",
      "text/html"
    ],
    "responses": {
      "200": {
        "description": "ペットのレスポンス",
        "schema": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/Pet"
          }
        }
      },
      "default": {
        "description": "エラー内容",
        "schema": {
          "$ref": "#/definitions/ErrorModel"
        }
      }
    }
  },
  "parameters": [
    {
      "name": "id",
      "in": "path",
      "description": "ペットのID",
      "required": true,
      "type": "array",
      "items": {
        "type": "string"
      },
      "collectionFormat": "csv"
    }
  ]
}
```

```yaml
get:
  description: IDにもとづいてペットを返す。
  summary: IDでペットを検索する。
  operationId: getPetsById
  produces:
  - application/json
  - text/html
  responses:
    '200':
      description: ペットのレスポンス
      schema:
        type: array
        items:
          $ref: '#/definitions/Pet'
    default:
      description: エラー内容
      schema:
        $ref: '#/definitions/ErrorModel'
parameters:
- name: id
  in: path
  description: ペットのID
  required: true
  type: array
  items:
    type: string
  collectionFormat: csv
```

#### <a name="operationObject"></a>Operation オブジェクト

パスの、単一のAPI操作を記述する。

##### 固定項目

項目名 | 型 | 説明
---|:---:|---
<a name="operationTags"></a>tags | [`string`] | API文書制御のためのタグのリスト。タグは、リソースやその他のフィルタによって、操作の論理的なグループを作成するために使われる。
<a name="operationSummary"></a>summary | `string` | 操作が行うことの短い要約。Swagger-UIでの可読性のため、この項目は120文字未満にしたほうがよい(SHOULD)。
<a name="operationDescription"></a>description | `string` | 操作の振る舞いに関する詳しい説明。リッチテキステキスト表現として、[GFM syntax](https://guides.github.com/features/mastering-markdown/#GitHub-flavored-markdown) が使用できる。
<a name="operationExternalDocs"></a>externalDocs | [External Documentation オブジェクト](#externalDocumentationObject) | この操作に関する追加の外部文書。
<a name="operationId"></a>operationId | `string` | 操作を識別する一意の文字列。IDはAPIで記述される全ての操作を通じて一意でなければならない(MUST)。ツールやライブラリは、操作を一意に識別するために operationId を使ってよい(MAY)。従って、一般的なプログラミングの命名規約に従うことが推奨される(RECOMMENDED)。
<a name="operationConsumes"></a>consumes | [`string`] | 操作が受け取ることのできる MIME タイプのリスト。Swagger オブジェクトでの [`consumes`](#swaggerConsumes) の定義を上書きする。グローバル定義を消去するために、空の値を使用してもよい(MAY)。値は、[Mime タイプ](#mimeTypes)で記述された内容に従わなければならない(MUST)。
<a name="operationProduces"></a>produces | [`string`] | 操作が返す可能性のある MIME タイプのリスト。Swagger オブジェクトでの [`produces`](#swaggerProduces) の定義を上書きする。グローバル定義を消去するために、空の値を使用してもよい(MAY)。値は、[Mime タイプ](#mimeTypes)で記述された内容に従わなければならない(MUST)。
<a name="operationParameters"></a>parameters | [[Parameter オブジェクト](#parameterObject) \| [Reference オブジェクト](#referenceObject)] | この操作に適用できるパラメータのリスト。パラメータが既に [Path Item](#pathItemParameters) で定義されている場合、新しい定義はこれを上書きするが、決して削除することはない。リスト中に重複したパラメータを含んではならない(MUST NOT)。パラメータの一意性は、[name](#parameterName) と [場所](#parameterIn) の組み合わせによって決定される。リストでは [Swagger オブジェクトの parameters](#swaggerParameters) で定義されたパラメータにリンクするために [Reference オブジェクト](#referenceObject) を使用できる。"body" パラメータは最大でも１つしか存在できない。
<a name="operationResponses"></a>responses | [Responses オブジェクト](#responsesObject) | **必須。** この操作を実行した結果として返す可能性のあるレスポンスのリスト。
<a name="operationSchemes"></a>schemes | [`string`] | この操作の転送プロトコル。値は `"http"`, `"https"`, `"ws"`, `"wss"` のいずれかでなければならない(MUST)。この値は、Swagger オブジェクトの [`schemes`](#swaggerSchemes) の定義を上書きする。
<a name="operationDeprecated"></a>deprecated | `boolean` | この操作が非推奨であることを宣言する。これが宣言された操作の利用は控えたほうがよい(SHOULD)。既定値は `false` である。
<a name="operationSecurity"></a>security | [[Security Requirement オブジェクト](#securityRequirementObject)] | この操作に適用されるセキュリティスキーマ宣言。値のリストは、選択的に使用できるセキュリティスキーマを表す（つまり、セキュリティ要件のOR条件となる）。この定義は、最上位で宣言された [`security`](#swaggerSecurity) を上書きする。最上位の security 宣言を削除するために、空の配列を使用できる。

##### パターン化項目

項目パターン | 型 | 説明
---|:---:|---
<a name="operationExtensions"></a>^x- | Any | Swaggerスキーマを拡張できる。項目名は `x-` で始めなければならない(MUST)。例えば、`x-internal-id`などである。値は `null`、 プリミティブ型、配列、オブジェクトを取りうる。 詳細は[仕様の拡張](#vendorExtensions) を参照。

##### Operation オブジェクトの例

```js
{
  "tags": [
    "pet"
  ],
  "summary": "フォームのデータで店内のペットを更新する。",
  "description": "",
  "operationId": "updatePetWithForm",
  "consumes": [
    "application/x-www-form-urlencoded"
  ],
  "produces": [
    "application/json",
    "application/xml"
  ],
  "parameters": [
    {
      "name": "petId",
      "in": "path",
      "description": "更新が必要なペットのID",
      "required": true,
      "type": "string"
    },
    {
      "name": "name",
      "in": "formData",
      "description": "更新されるペットの名前",
      "required": false,
      "type": "string"
    },
    {
      "name": "status",
      "in": "formData",
      "description": "更新されるペットの状態",
      "required": false,
      "type": "string"
    }
  ],
  "responses": {
    "200": {
      "description": "ペットが更新された。"
    },
    "405": {
      "description": "不正な入力"
    }
  },
  "security": [
    {
      "petstore_auth": [
        "write:pets",
        "read:pets"
      ]
    }
  ]
}
```

```yaml
tags:
- pet
summary: フォームのデータで店内のペットを更新する。
description: ""
operationId: updatePetWithForm
consumes:
- application/x-www-form-urlencoded
produces:
- application/json
- application/xml
parameters:
- name: petId
  in: path
  description: 更新するペットのID
  required: true
  type: string
- name: name
  in: formData
  description: 更新するペットの名前
  required: false
  type: string
- name: status
  in: formData
  description: 更新するペットの状態
  required: false
  type: string
responses:
  '200':
    description: ペットが更新された。
  '405':
    description: 不正な入力
security:
- petstore_auth:
  - write:pets
  - read:pets
```


#### <a name="externalDocumentationObject"></a>External Documentation オブジェクト

文書を拡張するために外部リソースを参照できる。

##### 固定項目

項目名 | 型 | 説明
---|:---:|---
<a name="externalDocDescription"></a>description | `string` | 対象とする文書の短い説明。リッチテキスト表現として、[GFM syntax](https://guides.github.com/features/mastering-markdown/#GitHub-flavored-markdown) を利用できる。
<a name="externalDocUrl"></a>url | `string` | **必須。** 対象文書のURL。値は URL の形式でなければならない(MUST)。

##### パターン化項目

項目パターン | 型 | 説明
---|:---:|---
<a name="externalDocExtensions"></a>^x- | Any | Swaggerスキーマを拡張できる。項目名は `x-` で始めなければならない(MUST)。例えば、`x-internal-id`などである。値は `null`、 プリミティブ型、配列、オブジェクトを取りうる。 詳細は[仕様の拡張](#vendorExtensions) を参照。

##### External Documentation オブジェクトの例

```js
{
  "description": "詳細はこちら",
  "url": "https://swagger.io"
}
```

```yaml
description: 詳細はこちら
url: https://swagger.io
```

#### <a name="parameterObject"></a>Parameter オブジェクト

操作の単一のパラメータについて記述する。

パラメータの一意性は、[name](#parameterName) と [場所](#parameterIn) の組み合わせによって決定される。

パラメータの場所は５つある。
* Path - [パステンプレート](#pathTemplating)とともに使用し, パラメータの値の実体は、操作のURLの一部である。これには、ホストやAPIの基底となるパスは含まれない。例えば、`/items/{itemId}`では、パスパラメータは `itemId` である。
* Query - URLに追加されるパラメータ。たとえば、`/items?id=###` では、クエリパラメータは `id` である。
* Header - リクエストの一部として期待する独自のヘッダ。
* Body - HTTPリクエストに追加されるペイロード。ペイロードは一つしか存在できないので、ボディパラメータも *１つ* だけ存在できる。ボディパラメータの名前は、パラメータ自身には何の影響も及ぼさず、文書化目的でのみ使われる。フォームパラメータもペイロードに入るため、body と form は同じ操作に同時に存在することはできない。
* Form - リクエストのコンテンツタイプ（Swaggerの定義では、操作の [`consumes`](#operationConsumes) プロパティにあたる）が `application/x-www-form-urlencoded` または `multipart/form-data` になっている時のHTTPリクエストのペイロードを記述するために使用する。ファイルを送信する場合に使うことができる唯一のパラメータ種類である。フォームパラメータもペイロードに入るため、body と form は同じ操作に同時に存在することはできない。フォームパラメータは、使用するContent-typeによって異なる形式を持つ（詳細は http://www.w3.org/TR/html401/interact/forms.html#h-17.13.4 を参照）。
  * `application/x-www-form-urlencoded` - クエリパラメータの形式と似ているが、ペイロードに入る点が異なる。例えば、`foo=1&bar=swagger` において `foo` と `bar` はともにフォームパラメータである。 通常、転送されるパラメータが単純な場合に使用される。
  * `multipart/form-data` - それぞれのパラメータがペイロード中に内部ヘッダで区切られたセクションに格納される。例えば、`Content-Disposition: form-data; name="submit-name"` ヘッダにおいて、パラメータの名前は `submit-name` である。この種類のフォームパラメータはファイルを送信する際によく使われる。

##### 固定項目
項目名 | 型 | 説明
---|:---:|---
<a name="parameterName"></a>name | `string` | **必須。** パラメータの名前。パラメータ名は *大文字小文字を区別する*。 <ul><li>[`in`](#parameterIn) が `"path"` の場合、`name` 項目は [Paths オブジェクト](#pathsObject) の [path](#pathsPath) 項目の関係する部分と対応していなければならない(MUST)。詳細は [パステンプレート](#pathTemplating) を参照。<li>その他の場合、`name` は [`in`](#parameterIn) プロパティに応じて使われるパラメータの名前と対応する。</ul>
<a name="parameterIn"></a>in | `string` | **必須。** パラメータの場所。 可能な値は、 `"query"`、`"header"`, `"path"`, `"formData"`、`"body"` のいずれかである。
<a name="parameterDescription"></a>description | `string` | パラメータの簡単な説明。使用例を含めることができる。リッチテキスト表現として、[GFM syntax](https://guides.github.com/features/mastering-markdown/#GitHub-flavored-markdown) を利用できる。
<a name="parameterRequired"></a>required | `boolean` | パラメータが必須であるかどうかを決定する。パラメータの [`in`](#parameterIn) が `"path"`の場合、このプロパティは **必須** となり、値は `true` でなければならない(MUST)。その他の場合、このプロパティは任意であり(MAY)、既定値は`false`となる。

[`in`](#parameterIn) が `"body"`の場合、

項目名 | 型 | 説明
---|:---:|---
<a name="parameterSchema"></a>schema | [Schema オブジェクト](#schemaObject) | **必須。** ボディパラメータを定義するために使用するスキーマ。

[`in`](#parameterIn) が `"body"`以外の場合、

項目名 | 型 | 説明
---|:---:|---
<a name="parameterType"></a>type | `string` | **必須。** パラメータの型。パラメータがリクエストボディ以外の場所にあるため、単純な型（オブジェクトでないもの）に限定される。値は `"string"`、`"number"`、`"integer"`、`"boolean"`、`"array"`、`"file"` のいずれか一つでなければならない(MUST)。`type` が `"file"` の場合、[`consumes`](#operationConsumes) は`"multipart/form-data"`、`" application/x-www-form-urlencoded"`のどちらか一方でなければならず(MUST)、パラメータの[`in`](#parameterIn) は `"formData"`でなければならない(MUST)。
<a name="parameterFormat"></a>format | `string` | 上述の [`type`](#parameterType) を拡張する形式。詳細は [データ型の `format`](#dataTypeFormat) を参照。
<a name="parameterAllowEmptyValue"/>allowEmptyValue | `boolean` | パラメータとして空の値を受け取れるかどうかを設定する。これは、`query` と `formData` の場合のみみ利用でき、名前のみ、あるいは空の値をパラメータとして送信できるようにする。既定値は `false` である。
<a name="parameterItems"></a>items | [Items オブジェクト](#itemsObject) | **パラメータの [`type`](#parameterType) が "array" の場合必須。** 配列内の要素の型を記述する。
<a name="parameterCollectionFormat"></a>collectionFormat | `string` | type が arrayの場合に、配列の形式を決める。可能な値は以下の通り。<ul><li>`csv` - カンマ区切りの値 `foo,bar`。 <li>`ssv` - スペース区切りの値 `foo bar`。 <li>`tsv` - タブ区切りの値 `foo\tbar`。 <li>`pipes` - パイプ区切りの値 <code>foo&#124;bar</code>。 <li>`multi` - 一つのインスタンスに複数の値を持つ代わりに、複数のパラメータに対応する `foo=bar&foo=baz`。パラメータの [`in`](#parameterIn) が "query" または "formData" の場合のみ使用可能。 </ul> 既定値は `csv` である。
<a name="parameterDefault"></a>default | [`type`](#parameterType) に依存 | パラメータの値が提供されなかった場合にサーバ側で使用する値を決める。例えば、結果の件数を制御する "count" というパラメータがクライアントから送信されなかった場合の既定値は 100 になるかもしれない。 (注："default" はパラメータが必須であることを意味しない)  https://tools.ietf.org/html/draft-fge-json-schema-validation-00#section-6.2 を参照。JSON スキーマと異なり、この値は、パラメータに定義した [`type`](#parameterType) にあったものでなければならない(MUST)。
<a name="parameterMaximum"></a>maximum | `number` | https://tools.ietf.org/html/draft-fge-json-schema-validation-00#section-5.1.2 を参照。
<a name="parameterExclusiveMaximum"></a>exclusiveMaximum | `boolean` | https://tools.ietf.org/html/draft-fge-json-schema-validation-00#section-5.1.2 を参照。
<a name="parameterMinimum"></a>minimum | `number` | https://tools.ietf.org/html/draft-fge-json-schema-validation-00#section-5.1.3 を参照。
<a name="parameterExclusiveMinimum"></a>exclusiveMinimum | `boolean` | https://tools.ietf.org/html/draft-fge-json-schema-validation-00#section-5.1.3 を参照。
<a name="parameterMaxLength"></a>maxLength | `integer` | https://tools.ietf.org/html/draft-fge-json-schema-validation-00#section-5.2.1 を参照。
<a name="parameterMinLength"></a>minLength | `integer` | https://tools.ietf.org/html/draft-fge-json-schema-validation-00#section-5.2.2 を参照。
<a name="parameterPattern"></a>pattern | `string` | https://tools.ietf.org/html/draft-fge-json-schema-validation-00#section-5.2.3 を参照。
<a name="parameterMaxItems"></a>maxItems | `integer` | https://tools.ietf.org/html/draft-fge-json-schema-validation-00#section-5.3.2 を参照。
<a name="parameterMinItems"></a>minItems | `integer` | https://tools.ietf.org/html/draft-fge-json-schema-validation-00#section-5.3.3 を参照。
<a name="parameterUniqueItems"></a>uniqueItems | `boolean` | https://tools.ietf.org/html/draft-fge-json-schema-validation-00#section-5.3.4 を参照。
<a name="parameterEnum"></a>enum | [Any] | https://tools.ietf.org/html/draft-fge-json-schema-validation-00#section-5.5.1 を参照。
<a name="parameterMultipleOf"></a>multipleOf | `number` | https://tools.ietf.org/html/draft-fge-json-schema-validation-00#section-5.1.1 を参照。


##### パターン化項目
項目パターン | 型 | 説明
---|:---:|---
<a name="parameterExtensions"></a>^x- | Any | Swaggerスキーマを拡張できる。項目名は `x-` で始めなければならない(MUST)。例えば、`x-internal-id`などである。値は `null`、 プリミティブ型、配列、オブジェクトを取りうる。 詳細は[仕様の拡張](#vendorExtensions) を参照。


##### Parameter オブジェクトの例

###### Body パラメータ

スキーマ定義（通常はモデル定義）を参照した body パラメータの例：
```js
{
  "name": "user",
  "in": "body",
  "description": "システムに追加するユーザ",
  "required": true,
  "schema": {
    "$ref": "#/definitions/User"
  }
}
```

```yaml
name: user
in: body
description: システムに追加するユーザ
required: true
schema:
  $ref: '#/definitions/User'
```

文字列の配列からなる body パラメータの例：
```js
{
  "name": "user",
  "in": "body",
  "description": "システムに追加するユーザ",
  "required": true,
  "schema": {
    "type": "array",
    "items": {
      "type": "string"
    }
  }
}
```

```yaml
name: user
in: body
description: システムに追加するユーザ
required: true
schema:
  type: array
  items:
    type: string
```

###### その他のパラメータ

64ビット整数値の配列を持つ header パラメータの例：

```js
{
  "name": "token",
  "in": "header",
  "description": "ヘッダで渡されるトークン",
  "required": true,
  "type": "array",
  "items": {
    "type": "integer",
    "format": "int64"
  },
  "collectionFormat": "csv"
}
```

```yaml
name: token
in: header
description: ヘッダで渡されるトークン
required: true
type: array
items:
  type: integer
  format: int64
collectionFormat: csv
```

文字列値の path パラメータの例：
```js
{
  "name": "username",
  "in": "path",
  "description": "取得するユーザ名",
  "required": true,
  "type": "string"
}
```

```yaml
name: username
in: path
description: 取得するユーザ名
required: true
type: string
```

オプションの文字列値の query パラメータ（パラメータを繰り返すことで複数の値を持てる）の例：
```js
{
  "name": "id",
  "in": "query",
  "description": "取得するオブジェクトのID",
  "required": false,
  "type": "array",
  "items": {
    "type": "string"
  },
  "collectionFormat": "multi"
}
```

```yaml
name: id
in: query
description: 取得するオブジェクトのID
required: false
type: array
items:
  type: string
collectionFormat: multi
```

ファイルアップロード用のfileタイプを持つフォームデータの例：
```js
{
  "name": "avatar",
  "in": "formData",
  "description": "ユーザのアバター",
  "required": true,
  "type": "file"
}
```

```yaml
name: avatar
in: formData
description: ユーザのアバター
required: true
type: file
```

#### <a name="itemsObject"></a>Items オブジェクト

JSONスキーマのitemsオブジェクトの限定的なサブセット。パラメータ定義において [`in`](#parameterIn) が `"body"` 以外の場合に使用する。

##### 固定項目
項目名 | 型 | 説明
---|:---:|---
<a name="itemsType"></a>type | `string` | **必須。** 配列内部の型。値は、`"string"`、`"number"`、`"integer"`、`"boolean"`、`"array"` のいずれかでなければならず(MUST)、ファイルやモデルは使用できない。
<a name="itemsFormat"></a>format | `string` | 上述の [`type`](#parameterType) を拡張する形式。詳細は [データ型の `format`](#dataTypeFormat) を参照。
<a name="itemsItems"></a>items | [Items オブジェクト](#itemsObject) | **パラメータの [`type`](#parameterType) が "array" の場合必須。** 配列内の要素の型を記述する。
<a name="itemsCollectionFormat"></a>collectionFormat | `string` | type が arrayの場合に、配列の形式を決める。可能な値は以下の通り。<ul><li>`csv` - カンマ区切りの値 `foo,bar`。 <li>`ssv` - スペース区切りの値 `foo bar`。 <li>`tsv` - タブ区切りの値 `foo\tbar`。 <li>`pipes` - パイプ区切りの値 <code>foo&#124;bar</code>。 </ul> 既定値は `csv` である。
<a name="itemsDefault"></a>default | [`type`](#parameterType) に依存 | パラメータの値が提供されなかった場合にサーバ側で使用する値を決める。(注："default" はパラメータが必須であることを意味しない)  https://tools.ietf.org/html/draft-fge-json-schema-validation-00#section-6.2 を参照。JSON スキーマと異なり、この値は、パラメータに定義した [`type`](#parameterType) にあったものでなければならない(MUST)。
<a name="itemsMaximum"></a>maximum | `number` | https://tools.ietf.org/html/draft-fge-json-schema-validation-00#section-5.1.2 を参照。
<a name="itemsMaximum"></a>exclusiveMaximum | `boolean` | https://tools.ietf.org/html/draft-fge-json-schema-validation-00#section-5.1.2 を参照。
<a name="itemsMinimum"></a>minimum | `number` | https://tools.ietf.org/html/draft-fge-json-schema-validation-00#section-5.1.3 を参照。
<a name="itemsExclusiveMinimum"></a>exclusiveMinimum | `boolean` | https://tools.ietf.org/html/draft-fge-json-schema-validation-00#section-5.1.3 を参照。
<a name="itemsMaxLength"></a>maxLength | `integer` | https://tools.ietf.org/html/draft-fge-json-schema-validation-00#section-5.2.1 を参照。
<a name="itemsMinLength"></a>minLength | `integer` | https://tools.ietf.org/html/draft-fge-json-schema-validation-00#section-5.2.2 を参照。
<a name="itemsPattern"></a>pattern | `string` | https://tools.ietf.org/html/draft-fge-json-schema-validation-00#section-5.2.3 を参照。
<a name="itemsMaxItems"></a>maxItems | `integer` | https://tools.ietf.org/html/draft-fge-json-schema-validation-00#section-5.3.2 を参照。
<a name="itemsMinItems"></a>minItems | `integer` | https://tools.ietf.org/html/draft-fge-json-schema-validation-00#section-5.3.3 を参照。
<a name="itemsUniqueItems"></a>uniqueItems | `boolean` | https://tools.ietf.org/html/draft-fge-json-schema-validation-00#section-5.3.4 を参照。
<a name="itemsEnum"></a>enum | [Any] | https://tools.ietf.org/html/draft-fge-json-schema-validation-00#section-5.5.1 を参照。
<a name="itemsMultipleOf"></a>multipleOf | `number` | https://tools.ietf.org/html/draft-fge-json-schema-validation-00#section-5.1.1 を参照。

##### パターン化項目

項目パターン | 型 | 説明
---|:---:|---
<a name="itemsExtensions"></a>^x- | Any | Swaggerスキーマを拡張できる。項目名は `x-` で始めなければならない(MUST)。例えば、`x-internal-id`などである。値は `null`、 プリミティブ型、配列、オブジェクトを取りうる。 詳細は[仕様の拡張](#vendorExtensions) を参照。

##### Items オブジェクトの例

型がstringで、最低でも２文字以上でなければならないItemsの例：
```js
{
    "type": "string",
    "minLength": 2
}
```

```yaml
type: string
minLength: 2
```

配列の配列（内側の配列は整数で、値の個数は0から63の間でなければならない）の例：
```js
{
    "type": "array",
    "items": {
        "type": "integer",
        "minimum": 0,
        "maximum": 63
    }
}
```

```yaml
type: array
items:
  type: integer
  minimum: 0
  maximum: 63
```

#### <a name="responsesObject"></a>Responses オブジェクト

返りうる操作のレスポンスのコンテナ。HTTPレスポンスコードと期待されるレスポンスの紐付けを行う。将来的に拡張される可能性があるため、HTTPレスポンスコードの全てを網羅的に文書化することは想定していない。しかし、操作成功時と、予めわかっているエラー時のレスポンスは文書化されていることが期待される。

個別に指定されていないHTTPステータスコードでの既定のレスポンスオブジェクトとして、`default`を使用することができる。

`Responses Object`は少なくとも１つのレスポンスコードを含めなければならず(MUST)、それは操作成功時のレスポンスに関するものであるのがよい(SHOULD)。

##### 固定項目
項目名 | 型 | 説明
---|:---:|---
<a name="responsesDefault"></a>default | [Response オブジェクト](#responseObject) \| [Reference オブジェクト](#referenceObject) | 特定のHTTPレスポンスコードに対して宣言されたレスポンス以外のレスポンスの文書。宣言されていないレスポンスに使用する。[Swagger オブジェクトの responses](#swaggerResponses) セクションで定義されたレスポンスにリンクするために、[Reference オブジェクト](#referenceObject) を使用できる。

##### パターン化項目
項目パターン | 型 | 説明
---|:---:|---
<a name="responsesCode"></a>{[HTTP ステータスコード](#httpCodes)} | [Response オブジェクト](#responseObject) \| [Reference オブジェクト](#referenceObject) | あらゆる [HTTP ステータスコード](#httpCodes) をプロパティ名に使用できる（一つのHTTPステータスコードごとに、一つのプロパティ）。HTTPステータスコードに対応するレスポンスを記述する。 [Swagger オブジェクトの responses](#swaggerResponses) セクションで定義されたレスポンスにリンクするために、[Reference オブジェクト](#referenceObject) を使用できる。
<a name="responsesExtensions"></a>^x- | Any | Swaggerスキーマを拡張できる。項目名は `x-` で始めなければならない(MUST)。例えば、`x-internal-id`などである。値は `null`、 プリミティブ型、配列、オブジェクトを取りうる。 詳細は[仕様の拡張](#vendorExtensions) を参照。


##### Responses オブジェクトの例

操作が成功した場合の200応答と、その他の場合（エラーを暗示）の既定の応答の例：
```js
{
  "200": {
    "description": "ペットを返す",
    "schema": {
      "$ref": "#/definitions/Pet"
    }
  },
  "default": {
    "description": "予期しないエラー",
    "schema": {
      "$ref": "#/definitions/ErrorModel"
    }
  }
}
```

```yaml
'200':
  description: ペットを返す
  schema:
    $ref: '#/definitions/Pet'
default:
  description: 予期しないエラー
  schema:
    $ref: '#/definitions/ErrorModel'
```

#### <a name="responseObject"></a>Response オブジェクト
API操作からの単一のレスポンスを記述する。

##### 固定項目
項目名 | 型 | 説明
---|:---:|---
<a name="responseDescription"></a>description | `string` | **必須。** レスポンスの短い説明。リッチテキスト表現として、[GFM syntax](https://guides.github.com/features/mastering-markdown/#GitHub-flavored-markdown) を利用できる。
<a name="responseSchema"></a>schema | [Schema オブジェクト](#schemaObject) | レスポンスの構造の定義。プリミティブ型・配列・オブジェクトが使用できる。 項目が存在しない場合、レスポンスとしてコンテンツが返らないことを示す。[Schema オブジェクト](#schemaObject) の拡張として、最上位の `type` の値は `"file"` でもよい(MAY)。この場合、関係する `produces` のMIMEタイプを伴うべきである(SHOULD)。
<a name="responseHeaders"></a>headers | [Headers オブジェクト](#headersObject) | レスポンスとともに送信されるヘッダのリスト。
<a name="responseExamples"></a>examples | [Example オブジェクト](#exampleObject) | レスポンスメッセージの例。

##### パターン化項目

項目パターン | 型 | 説明
---|:---:|---
<a name="responseExtensions"></a>^x- | Any | Swaggerスキーマを拡張できる。項目名は `x-` で始めなければならない(MUST)。例えば、`x-internal-id`などである。値は `null`、 プリミティブ型、配列、オブジェクトを取りうる。 詳細は[仕様の拡張](#vendorExtensions) を参照。

##### Response オブジェクトの例

複雑な型の配列を返す例：
```js
{
  "description": "複雑なオブジェクトの配列のレスポンス",
  "schema": {
    "type": "array",
    "items": {
      "$ref": "#/definitions/VeryComplexType"
    }
  }
}
```

```yaml
description: 複雑なオブジェクトの配列のレスポンス
schema:
  type: array
  items:
    $ref: '#/definitions/VeryComplexType'
```

文字列型のレスポンスの例：
```js
{
  "description": "単純な文字列のレスポンス",
  "schema": {
    "type": "string"
  }
}
```

```yaml
description: 単純な文字列のレスポンス
schema:
  type: string
```

ヘッダを指定するレスポンスの例：
```js
{
  "description": "単純な文字列のレスポンス",
  "schema": {
    "type": "string"
  },
  "headers": {
    "X-Rate-Limit-Limit": {
      "description": "The number of allowed requests in the current period",
      "type": "integer"
    },
    "X-Rate-Limit-Remaining": {
      "description": "The number of remaining requests in the current period",
      "type": "integer"
    },
    "X-Rate-Limit-Reset": {
      "description": "The number of seconds left in the current period",
      "type": "integer"
    }
  }
}
```

```yaml
description: 単純な文字列のレスポンス
schema:
  type: string
headers:
  X-Rate-Limit-Limit:
    description: The number of allowed requests in the current period
    type: integer
  X-Rate-Limit-Remaining:
    description: The number of remaining requests in the current period
    type: integer
  X-Rate-Limit-Reset:
    description: The number of seconds left in the current period
    type: integer
```

戻り値のないレスポンスの例：
```js
{
  "description": "オブジェクトが作成されました"
}
```

```yaml
description: オブジェクトが作成されました
```

#### <a name="headersObject"></a>Headers オブジェクト
レスポンスの一部として送信されるヘッダのリスト。

##### パターン化項目
項目パターン | 型 | 説明
---|:---:|---
<a name="headersName"></a>{name} | [Header オブジェクト](#headerObject) | ヘッダの名前に対応するプロパティ名。値はヘッダの型を記述する。

##### Headers オブジェクトの例

Rate-limit ヘッダの例：

```js
{
    "X-Rate-Limit-Limit": {
        "description": "The number of allowed requests in the current period",
        "type": "integer"
    },
    "X-Rate-Limit-Remaining": {
        "description": "The number of remaining requests in the current period",
        "type": "integer"
    },
    "X-Rate-Limit-Reset": {
        "description": "The number of seconds left in the current period",
        "type": "integer"
    }
}
```

```yaml
X-Rate-Limit-Limit:
  description: The number of allowed requests in the current period
  type: integer
X-Rate-Limit-Remaining:
  description: The number of remaining requests in the current period
  type: integer
X-Rate-Limit-Reset:
  description: The number of seconds left in the current period
  type: integer
```

#### <a name="exampleObject"></a>Example オブジェクト

操作のレスポンスの例を共有することができる。

##### パターン化項目
項目パターン | 型 | 説明
---|:---:|---
<a name="exampleMimeType"></a>{[mime タイプ](#mimeTypes)} | Any | プロパティの名前は、操作の `produces` の（明示的な、または継承した）値のいずれか一つでなければならない(MUST)。値は、レスポンスがどのように見えるかの例であるべきです（SHOULD）。

##### Example オブジェクトの例

Pet データ型の application/json MIMEタイプの応答の例：
```js
{
  "application/json": {
    "name": "Puma",
    "type": "Dog",
    "color": "Black",
    "gender": "Female",
    "breed": "Mixed"
  }
}
```

```yaml
application/json:
  name: Puma
  type: Dog
  color: Black
  gender: Female
  breed: Mixed
```

#### <a name="headerObject"></a>Header オブジェクト

項目名 | 型 | 説明
---|:---:|---
<a name="headerDescription"></a>description | `string` | ヘッダの短い説明。
<a name="headerType"></a>type | `string` | **必須。** オブジェクトの型。値は、`"string"`, `"number"`, `"integer"`, `"boolean"`, `"array"` のいずれか一つでなければならない(MUST)。
<a name="headerFormat"></a>format | `string` | 上述の [`type`](#parameterType) を拡張する形式。詳細は [データ型の `format`](#dataTypeFormat) を参照。
<a name="headerItems"></a>items | [Items オブジェクト](#itemsObject) | **パラメータの [`type`](#parameterType) が "array" の場合必須。** 配列内の要素の型を記述する。
<a name="headerCollectionFormat"></a>collectionFormat | `string` | type が arrayの場合に、配列の形式を決める。可能な値は以下の通り。<ul><li>`csv` - カンマ区切りの値 `foo,bar`。 <li>`ssv` - スペース区切りの値 `foo bar`。 <li>`tsv` - タブ区切りの値 `foo\tbar`。 <li>`pipes` - パイプ区切りの値 <code>foo&#124;bar</code>。 </ul> 既定値は `csv` である。
<a name="headerDefault"></a>default | * | ヘッダの値が提供されなかった場合にサーバ側で使用する値を決める。(注："default" はヘッダが必須であることを意味しない)  https://tools.ietf.org/html/draft-fge-json-schema-validation-00#section-6.2 を参照。JSON スキーマと異なり、この値は、ヘッダに定義した [`type`](#parameterType) にあったものでなければならない(MUST)。
<a name="headerMaximum"></a>maximum | `number` | https://tools.ietf.org/html/draft-fge-json-schema-validation-00#section-5.1.2 を参照。
<a name="headerMaximum"></a>exclusiveMaximum | `boolean` | https://tools.ietf.org/html/draft-fge-json-schema-validation-00#section-5.1.2 を参照。
<a name="headerMinimum"></a>minimum | `number` | https://tools.ietf.org/html/draft-fge-json-schema-validation-00#section-5.1.3 を参照。
<a name="headerExclusiveMinimum"></a>exclusiveMinimum | `boolean` | https://tools.ietf.org/html/draft-fge-json-schema-validation-00#section-5.1.3 を参照。
<a name="headerMaxLength"></a>maxLength | `integer` | https://tools.ietf.org/html/draft-fge-json-schema-validation-00#section-5.2.1 を参照。
<a name="headerMinLength"></a>minLength | `integer` | https://tools.ietf.org/html/draft-fge-json-schema-validation-00#section-5.2.2 を参照。
<a name="headerPattern"></a>pattern | `string` | https://tools.ietf.org/html/draft-fge-json-schema-validation-00#section-5.2.3 を参照。
<a name="headerMaxItems"></a>maxItems | `integer` | https://tools.ietf.org/html/draft-fge-json-schema-validation-00#section-5.3.2 を参照。
<a name="headerMinItems"></a>minItems | `integer` | https://tools.ietf.org/html/draft-fge-json-schema-validation-00#section-5.3.3 を参照。
<a name="headerUniqueItems"></a>uniqueItems | `boolean` | https://tools.ietf.org/html/draft-fge-json-schema-validation-00#section-5.3.4 を参照。
<a name="headerEnum"></a>enum | [Any] | https://tools.ietf.org/html/draft-fge-json-schema-validation-00#section-5.5.1 を参照。
<a name="headerMultipleOf"></a>multipleOf | `number` | https://tools.ietf.org/html/draft-fge-json-schema-validation-00#section-5.1.1 を参照。

##### パターン化項目

項目パターン | 型 | 説明
---|:---:|---
<a name="headerExtensions"></a>^x- | Any | Swaggerスキーマを拡張できる。項目名は `x-` で始めなければならない(MUST)。例えば、`x-internal-id`などである。値は `null`、 プリミティブ型、配列、オブジェクトを取りうる。 詳細は[仕様の拡張](#vendorExtensions) を参照。

##### Header オブジェクトの例

整数型の単純なヘッダの例：

```js
{
  "description": "The number of allowed requests in the current period",
  "type": "integer"
}
```

```yaml
description: The number of allowed requests in the current period
type: integer
```

#### <a name="tagObject"></a>Tag オブジェクト

[Operation オブジェクト](#operationObject) で使用する単一のタグにメタデータを追加できる。タグにTag オブジェクトを持たせることは必須ではない。

##### 固定項目
項目名 | 型 | 説明
---|:---:|---
<a name="tagName"></a>name | `string` | **必須。** タグの名前。
<a name="tagDescription"></a>description | `string` | タグの短い説明。リッチテキスト表現として、[GFM syntax](https://guides.github.com/features/mastering-markdown/#GitHub-flavored-markdown) を利用できる。
<a name="tagExternalDocs"></a>externalDocs | [External Documentation オブジェクト](#externalDocumentationObject) | タグに関する追加の外部文書。

##### パターン化項目
項目パターン | 型 | 説明
---|:---:|---
<a name="tagExtensions"></a>^x- | Any | Swaggerスキーマを拡張できる。項目名は `x-` で始めなければならない(MUST)。例えば、`x-internal-id`などである。値は `null`、 プリミティブ型、配列、オブジェクトを取りうる。 詳細は[仕様の拡張](#vendorExtensions) を参照。

##### Tag オブジェクトの例

```js
{
	"name": "pet",
	"description": "ペットの操作"
}
```

```yaml
name: pet
description: ペットの操作
```

#### <a name="referenceObject"></a>Reference オブジェクト

仕様のその他の定義を参照する単純なオブジェクト。最上位レベルで定義されたパラメータやレスポンスを再利用することができる。

Refernce オブジェクトは 値として [JSON Pointer](http://tools.ietf.org/html/rfc6901) を使う [JSON Reference](http://tools.ietf.org/html/draft-pbryan-zyp-json-ref-02) である。この仕様においては [canonical dereferencing](https://tools.ietf.org/html/draft-zyp-json-schema-04#section-7.2.3) のみがサポートされる。

##### 固定項目
項目名 | 型 | 説明
---|:---:|---
<a name="referenceRef"></a>$ref | `string` | **必須。** 参照する文字列。

##### Reference オブジェクトの例

```js
{
	"$ref": "#/definitions/Pet"
}
```

```yaml
$ref: '#/definitions/Pet'
```

##### 相対的なスキーマファイルの例
```js
{
  "$ref": "Pet.json"
}
```

```yaml
$ref: 'Pet.yaml'
```

##### 埋め込みスキーマを伴う相対的なファイルの例
```js
{
  "$ref": "definitions.json#/Pet"
}
```

```yaml
$ref: 'definitions.yaml#/Pet'
```

#### <a name="schemaObject"></a>Schema オブジェクト

Schema オブジェクトを使って、入力・出力のデータ型を定義できる。これらの型はオブジェクトでも、プリミティブ型でも配列でも良い。このオブジェクトは、[JSON Schema Specification Draft 4](http://json-schema.org/) に基づき、事前に定義されたそのサブセットを使用する。本仕様では、このサブセットの上に、より完全な文書化を行うための拡張を施している。

プロパティについての詳細な情報は、[JSON Schema Core](https://tools.ietf.org/html/draft-zyp-json-schema-04) および [JSON Schema Validation](https://tools.ietf.org/html/draft-fge-json-schema-validation-00) を参照すること。特に断りがない場合、プロパティはここで参照するJSON Schema 仕様 に従う。

以下のプロパティは、JSON Schema 定義から直接採用しており、同じ仕様に従う。
- $ref - [JSON Reference](https://tools.ietf.org/html/draft-pbryan-zyp-json-ref-03) として
- format (詳細は [データ型の `format`](#dataTypeFormat) を参照)
- title
- description (リッチテキスト表現として [GFM syntax](https://guides.github.com/features/mastering-markdown/#GitHub-flavored-markdown) を使用可能)
- default (JSON Schema と異なり、値は Schema オブジェクトで定義された型に従わなければならない(MUST))
- multipleOf
- maximum
- exclusiveMaximum
- minimum
- exclusiveMinimum
- maxLength
- minLength
- pattern
- maxItems
- minItems
- uniqueItems
- maxProperties
- minProperties
- required
- enum
- type

以下のプロパティは JSON Schema 定義に由来しているが、それらの定義は Swagger 仕様に合わせて調整されている。これらの定義は、JSON Schema の定義と等しい。元の定義がJSON Schema の定義を参照している場合にのみ、[Schema オブジェクト](#schemaObject) の定義が代わりに使用される。
- items
- allOf
- properties
- additionalProperties

JSON Schema のサブセットである項目以外に、以下の項目をスキーマの文書化に使用することができる(MAY)。

##### 固定項目
項目名 | 型 | 説明
---|:---:|---
<a name="schemaDiscriminator"></a>discriminator | `string` | ポリモーフィズムのサポートを追加する。 `discriminator` は、このスキーマを継承する他のスキーマと区別するために使われるスキーマのプロパティ名である。 プロパティ名は、このスキーマで定義されていなければならず(MUST)、かつ `required` プロパティのリストに含まれていなければならない(MUST)。使用する場合、値はこのスキーマかこのスキーマを継承するスキーマの名前でなければならない(MUST)。
<a name="schemaReadOnly"></a>readOnly | `boolean` | スキーマの `"properties"` 定義にのみ関係する。プロパティを「読み取り専用」として宣言する。つまり、レスポンスの一部として使用することができる(MAY)が、リクエストの一部として使用してはならない(MUST NOT)。`readOnly` が `true` に指定されたプロパティは、スキーマ定義の `required` リストに含めない方がよい(SHOULD NOT)。既定値は `false` である。
<a name="schemaXml"></a>xml | [XML オブジェクト](#xmlObject) | スキーマのプロパティでのみ仕様できる(MAY)。最上位のスキーマにはなんの効果もない。このプロパティに追加のメタデータをXML形式で追加する。
<a name="schemaExternalDocs"></a>externalDocs | [External Documentation オブジェクト](#externalDocumentationObject) | このスキーマに関する追加の外部文書。
<a name="schemaExample"></a>example | Any | このスキーマのインスタンスの例を書く自由記述形式のプロパティ。

##### パターン化項目

項目パターン | 型 | 説明
---|:---:|---
<a name="schemaExtensions"></a>^x- | Any | Swaggerスキーマを拡張できる。項目名は `x-` で始めなければならない(MUST)。例えば、`x-internal-id`などである。値は `null`、 プリミティブ型、配列、オブジェクトを取りうる。 詳細は[仕様の拡張](#vendorExtensions) を参照。

###### 複合と継承 (ポリモーフィズム)

Swaggerでは、JSONスキーマの`allOf`プロパティを使ってモデル定義の複合と継承が行える。`allOf` は *別個に* 検証済の単一オブジェクトを複合させたオブジェクト定義の配列を持つ。

複合によってモデルの拡張が行えるが、これはモデル間の階層を暗示しない。ポリモーフィズムをサポートするために、Swaggerでは `discriminator` 項目を追加している。この項目を使用すると、`discriminator` は、モデルの構造の検証に使用するスキーマ定義の決定に使われるプロパティの名前になる。このため、`discriminator` 項目は必須項目でなければならない(MUST)。選択されたプロパティの値は、`definitions` プロパティのもとにあるモデルに与えられたフレンドリ名でなければならない(MUST)。従って、IDを持てないインラインスキーマ定義では、ポリモーフィズムは *使用できない*。

###### XML モデル

[xml](#schemaXml)プロパティは、JSON定義をXMLに翻訳する時の追加の定義を持たせられる。[XML オブジェクト](#xmlObject) は、使用可能なオプションに関する追加情報を含む。

##### Schema オブジェクトの例

###### プリミティブ型の例

以前のバージョンのSwaggerと異なり、スキーマ定義はプリミティブ型や配列を使用して記述できる。

```js
{
    "type": "string",
    "format": "email"
}
```

```yaml
type: string
format: email
```

###### 単純なモデル

```js
{
  "type": "object",
  "required": [
    "name"
  ],
  "properties": {
    "name": {
      "type": "string"
    },
    "address": {
      "$ref": "#/definitions/Address"
    },
    "age": {
      "type": "integer",
      "format": "int32",
      "minimum": 0
    }
  }
}
```

```yaml
type: object
required:
- name
properties:
  name:
    type: string
  address:
    $ref: '#/definitions/Address'
  age:
    type: integer
    format: int32
    minimum: 0
```

###### Map/Dictionary プロパティを持つモデル

単純な文字列から文字列へのマッピングの例：

```js
{
  "type": "object",
  "additionalProperties": {
    "type": "string"
  }
}
```

```yaml
type: object
additionalProperties:
  type: string
```

文字列からモデルへのマッピングの例：

```js
{
  "type": "object",
  "additionalProperties": {
    "$ref": "#/definitions/ComplexModel"
  }
}
```

```yaml
type: object
additionalProperties:
  $ref: '#/definitions/ComplexModel'
```

###### サンプル付きのモデル

```js
{
  "type": "object",
  "properties": {
    "id": {
      "type": "integer",
      "format": "int64"
    },
    "name": {
      "type": "string"
    }
  },
  "required": [
    "name"
  ],
  "example": {
    "name": "Puma",
    "id": 1
  }
}
```

```yaml
type: object
properties:
  id:
    type: integer
    format: int64
  name:
    type: string
required:
- name
example:
  name: Puma
  id: 1
```

###### 複合モデル

```js
{
  "definitions": {
    "ErrorModel": {
      "type": "object",
      "required": [
        "message",
        "code"
      ],
      "properties": {
        "message": {
          "type": "string"
        },
        "code": {
          "type": "integer",
          "minimum": 100,
          "maximum": 600
        }
      }
    },
    "ExtendedErrorModel": {
      "allOf": [
        {
          "$ref": "#/definitions/ErrorModel"
        },
        {
          "type": "object",
          "required": [
            "rootCause"
          ],
          "properties": {
            "rootCause": {
              "type": "string"
            }
          }
        }
      ]
    }
  }
}
```

```yaml
definitions:
  ErrorModel:
    type: object
    required:
    - message
    - code
    properties:
      message:
        type: string
      code:
        type: integer
        minimum: 100
        maximum: 600
  ExtendedErrorModel:
    allOf:
    - $ref: '#/definitions/ErrorModel'
    - type: object
      required:
      - rootCause
      properties:
        rootCause:
          type: string
```

###### ポリモーフィズムのあるモデル

```js
{
  "definitions": {
    "Pet": {
      "type": "object",
      "discriminator": "petType",
      "properties": {
        "name": {
          "type": "string"
        },
        "petType": {
          "type": "string"
        }
      },
      "required": [
        "name",
        "petType"
      ]
    },
    "Cat": {
      "description": "猫を表す",
      "allOf": [
        {
          "$ref": "#/definitions/Pet"
        },
        {
          "type": "object",
          "properties": {
            "huntingSkill": {
              "type": "string",
              "description": "慎重な狩りのスキル",
              "default": "lazy",
              "enum": [
                "clueless",
                "lazy",
                "adventurous",
                "aggressive"
              ]
            }
          },
          "required": [
            "huntingSkill"
          ]
        }
      ]
    },
    "Dog": {
      "description": "犬を表す",
      "allOf": [
        {
          "$ref": "#/definitions/Pet"
        },
        {
          "type": "object",
          "properties": {
            "packSize": {
              "type": "integer",
              "format": "int32",
              "description": "犬が入るパックのサイズ",
              "default": 0,
              "minimum": 0
            }
          },
          "required": [
            "packSize"
          ]
        }
      ]
    }
  }
}
```

```yaml
definitions:
  Pet:
    type: object
    discriminator: petType
    properties:
      name:
        type: string
      petType:
        type: string
    required:
    - name
    - petType
  Cat:
    description: 猫を表す
    allOf:
    - $ref: '#/definitions/Pet'
    - type: object
      properties:
        huntingSkill:
          type: string
          description: 慎重な狩りのスキル
          default: lazy
          enum:
          - clueless
          - lazy
          - adventurous
          - aggressive
      required:
      - huntingSkill
  Dog:
    description: 犬を表す
    allOf:
    - $ref: '#/definitions/Pet'
    - type: object
      properties:
        packSize:
          type: integer
          format: int32
          description: 犬が入るパックのサイズ
          default: 0
          minimum: 0
      required:
      - packSize
```

#### <a name="xmlObject"></a>XML オブジェクト

より調整されたXMLモデル定義を表現するためのメタデータオブジェクト。

配列を使用する場合、XML要素名は（単数形・複数形を）推測 *されない*。また、`name` プロパティは、この情報を付加するために使用したほうがよい(SHOULD)。期待される振る舞いについては例を参照。

##### 固定項目
項目名 | 型 | 説明
---|:---:|---
<a name="xmlName"></a>name | `string` | スキーマプロパティを記述する要素または属性の名前を置き換える。Items オブジェクト (`items`) の中で定義された場合、リスト内の個別のXML要素の名前に作用する。`array` (`items`の外側) の`type` と同時に定義された場合、`wrapped`が`true`なら、ラッピングする要素に作用する。`wrapped`が`false`の場合、無視される。
<a name="xmlNamespace"></a>namespace | `string` | 名前空間を定義するURL。値はURLの形式になっていたほうがよい(SHOULD)。
<a name="xmlPrefix"></a>prefix | `string` | [name](#xmlName) に使われる接頭語。
<a name="xmlAttribute"></a>attribute | `boolean` | プロパティ定義を要素ではなく属性として翻訳するかどうかを宣言する。既定値は `false` である。
<a name="xmlWrapped"></a>wrapped | `boolean` | 配列の定義のみ使用できる(MAY)。配列がラップされる(例：`<books><book/><book/></books>`)か、されない(`<book/><book/>`)かを指定する。既定値は `false` である。この定義は、`array` (`items`の外側) の`type` と同時に定義された場合のみ効果がある。

##### パターン化項目

項目パターン | 型 | 説明
---|:---:|---
<a name="xmlExtensions"></a>^x- | Any | Swaggerスキーマを拡張できる。項目名は `x-` で始めなければならない(MUST)。例えば、`x-internal-id`などである。値は `null`、 プリミティブ型、配列、オブジェクトを取りうる。 詳細は[仕様の拡張](#vendorExtensions) を参照。

##### XML オブジェクトの例

XMLオブジェクト定義の例は、[Schema オブジェクト](#schemaObject) のプロパティ定義の中に、XML表現の例として含まれている。

###### XML ではない要素

基本的な文字列プロパティ：

```js
{
    "animals": {
        "type": "string"
    }
}
```

```yaml
animals:
  type: string
```

```xml
<animals>...</animals>
```

基本的な文字列の配列プロパティ（既定では [`wrapped`](#xmlWrapped) は `false`）：

```js
{
    "animals": {
        "type": "array",
        "items": {
            "type": "string"
        }
    }
}
```

```yaml
animals:
  type: array
  items:
    type: string
```

```xml
<animals>...</animals>
<animals>...</animals>
<animals>...</animals>
```

###### XML の名前置換

```js
{
  "animals": {
    "type": "string",
    "xml": {
      "name": "animal"
    }
  }
}
```

```yaml
animals:
  type: string
  xml:
    name: animal
```

```xml
<animal>...</animal>
```


###### XML 属性・接頭語・名前空間

この例では、完全なモデル定義を示す。

```js
{
  "Person": {
    "type": "object",
    "properties": {
      "id": {
        "type": "integer",
        "format": "int32",
        "xml": {
          "attribute": true
        }
      },
      "name": {
        "type": "string",
        "xml": {
          "namespace": "http://swagger.io/schema/sample",
          "prefix": "sample"
        }
      }
    }
  }
}
```

```yaml
Person:
  type: object
  properties:
    id:
      type: integer
      format: int32
      xml:
        attribute: true
    name:
      type: string
      xml:
        namespace: http://swagger.io/schema/sample
        prefix: sample
```

```xml
<Person id="123">
    <sample:name xmlns:sample="http://swagger.io/schema/sample">example</sample:name>
</Person>
```

###### XML 配列

要素名を変更する例：

```js
{
  "animals": {
    "type": "array",
    "items": {
      "type": "string",
      "xml": {
        "name": "animal"
      }
    }
  }
}
```

```yaml
animals:
  type: array
  items:
    type: string
    xml:
      name: animal
```

```xml
<animal>value</animal>
<animal>value</animal>
```

外部の `name` プロパティは、XMLには作用しない。

```js
{
  "animals": {
    "type": "array",
    "items": {
      "type": "string",
      "xml": {
        "name": "animal"
      }
    },
    "xml": {
      "name": "aliens"
    }
  }
}
```

```yaml
animals:
  type: array
  items:
    type: string
    xml:
      name: animal
  xml:
    name: aliens
```

```xml
<animal>value</animal>
<animal>value</animal>
```

配列がラップされた場合でも、名前が明示的に定義されていなければ、内部と外部で同じ名前が使用される。

```js
{
  "animals": {
    "type": "array",
    "items": {
      "type": "string"
    },
    "xml": {
      "wrapped": true
    }
  }
}
```

```yaml
animals:
  type: array
  items:
    type: string
  xml:
    wrapped: true
```

```xml
<animals>
  <animals>value</animals>
  <animals>value</animals>
</animals>
```

上の例のような状況を回避するために、以下のような定義を使用できる。

```js
{
  "animals": {
    "type": "array",
    "items": {
      "type": "string",
      "xml": {
        "name": "animal"
      }
    },
    "xml": {
      "wrapped": true
    }
  }
}
```

```yaml
animals:
  type: array
  items:
    type: string
    xml:
      name: animal
  xml:
    wrapped: true
```

```xml
<animals>
  <animal>value</animal>
  <animal>value</animal>
</animals>
```

内部と外部の両方を変更できる。

```js
{
  "animals": {
    "type": "array",
    "items": {
      "type": "string",
      "xml": {
        "name": "animal"
      }
    },
    "xml": {
      "name": "aliens",
      "wrapped": true
    }
  }
}
```

```yaml
animals:
  type: array
  items:
    type: string
    xml:
      name: animal
  xml:
    name: aliens
    wrapped: true
```

```xml
<aliens>
  <animal>value</animal>
  <animal>value</animal>
</aliens>
```

外部の要素だけを変更し、内部は変更しない場合：

```js
{
  "animals": {
    "type": "array",
    "items": {
      "type": "string"
    },
    "xml": {
      "name": "aliens",
      "wrapped": true
    }
  }
}
```

```yaml
animals:
  type: array
  items:
    type: string
  xml:
    name: aliens
    wrapped: true
```

```xml
<aliens>
  <aliens>value</aliens>
  <aliens>value</aliens>
</aliens>
```

#### <a name="definitionsObject"></a>Definitions オブジェクト

操作が受け取ったり出力したりできるデータ型を保持するオブジェクト。プリミティブ型、配列、モデルが使用できる。

##### パターン化項目

項目パターン | 型 | 説明
---|:---:|---
<a name="definitionsName"></a>{name} | [Schema オブジェクト](#schemaObject) | 単一の定義。スキーマの定義と名前を紐付ける。

##### Definitions オブジェクトの例

```js
{
  "Category": {
    "type": "object",
    "properties": {
      "id": {
        "type": "integer",
        "format": "int64"
      },
      "name": {
        "type": "string"
      }
    }
  },
  "Tag": {
    "type": "object",
    "properties": {
      "id": {
        "type": "integer",
        "format": "int64"
      },
      "name": {
        "type": "string"
      }
    }
  }
}
```

```yaml
Category:
  type: object
  properties:
    id:
      type: integer
      format: int64
    name:
      type: string
Tag:
  type: object
  properties:
    id:
      type: integer
      format: int64
    name:
      type: string
```

#### <a name="parametersDefinitionsObject"></a>Parameters Definitions オブジェクト

複数の操作で再利用できるようにパラメータを保持するオブジェクト。ここでのパラメータ定義を参照してパラメータを定義できる。

全ての操作に共通のパラメータを定義するもの *ではない* 。

##### パターン化項目

項目パターン | 型 | 説明
---|:---:|---
<a name="pdName"></a>{name} | [Parameter オブジェクト](#parameterObject) | 単一のパラメータ定義。パラメータの定義と名前を紐付ける。

##### Parameters Definition オブジェクトの例

```js
{
  "skipParam": {
    "name": "skip",
    "in": "query",
    "description": "スキップする要素の数",
    "required": true,
    "type": "integer",
    "format": "int32"
  },
  "limitParam": {
    "name": "limit",
    "in": "query",
    "description": "返却する最大行数",
    "required": true,
    "type": "integer",
    "format": "int32"
  }
}
```

```yaml
skipParam:
  name: skip
  in: query
  description: スキップする要素の数
  required: true
  type: integer
  format: int32
limitParam:
  name: limit
  in: query
  description: 返却する最大行数
  required: true
  type: integer
  format: int32
```


#### <a name="responsesDefinitionsObject"></a>Responses Definitions オブジェクト

複数の操作で再利用できるようにレスポンスを保持するオブジェクト。ここで定義されたレスポンスを参照して、レスポンスを定義できる。

全ての操作に共通するレスポンスを定義するもの *ではない*。

##### パターン化項目

項目パターン | 型 | 説明
---|:---:|---
<a name="rdName"></a>{name} | [Response オブジェクト](#responseObject) | 単一のレスポンス定義。レスポンス定義と名前を紐付ける。

##### Responses Definitions オブジェクトの例

```js
{
  "NotFound": {
    "description": "エンティティが見つかりません。"
  },
  "IllegalInput": {
  	"description": "入力が正しくありません。"
  },
  "GeneralError": {
  	"description": "一般的なエラー",
  	"schema": {
  		"$ref": "#/definitions/GeneralError"
  	}
  }
}
```

```yaml
NotFound:
  description: エンティティが見つかりません。
IllegalInput:
  description: 入力が正しくありません。
GeneralError:
  description: 一般的なエラー
  schema:
    $ref: '#/definitions/GeneralError'
```

#### <a name="securityDefinitionsObject"></a>Security Definitions オブジェクト

仕様の中で使用できるセキュリティスキーマの宣言。これは、操作のセキュリティスキーマを強制するものではなく、各スキーマに関連する詳細を提供する役割を果たすだけである。

##### パターン化項目
項目パターン | 型 | 説明
---|:---:|---
<a name="sdName"></a>{name} | [Security Scheme オブジェクト](#securitySchemeObject) | 単一のセキュリティスキーマ定義。名前とスキーマ定義を紐付ける。

##### Security Definitions オブジェクトの例

```js
{
  "api_key": {
    "type": "apiKey",
    "name": "api_key",
    "in": "header"
  },
  "petstore_auth": {
    "type": "oauth2",
    "authorizationUrl": "http://swagger.io/api/oauth/dialog",
    "flow": "implicit",
    "scopes": {
      "write:pets": "アカウント内のペットを修正する",
      "read:pets": "自分のペットを読み取る"
    }
  }
}
```

```yaml
api_key:
  type: apiKey
  name: api_key
  in: header
petstore_auth:
  type: oauth2
  authorizationUrl: http://swagger.io/api/oauth/dialog
  flow: implicit
  scopes:
    write:pets: アカウント内のペットを修正する
    read:pets: 自分のペットを読み取る
```

#### <a name="securitySchemeObject"></a>Security Scheme オブジェクト

操作に適用できるセキュリティスキーマ定義が行える。サポートされるスキーマは、BASIC認証・APIキー（ヘッダまたはクエリパラメータ）・OAuth2の一般的なフロー（implicit, pasword, application, access code）である。

##### 固定項目
項目名 | 型 | 適用スキーマ | 説明
---|:---:|---|---
<a name="securitySchemeType"></a>type | `string` | Any | **必須。** セキュリティスキーマの種類。適切な値は `"basic"`、`"apiKey"`、`"oauth2"`のいずれかである。
<a name="securitySchemeDescription"></a>description | `string` | Any | セキュリティスキーマの短い説明。
<a name="securitySchemeName"></a>name | `string` | `apiKey` | **必須。** ヘッダまたはクエリパラメータで使用する名前。
<a name="securitySchemeIn"></a>in | `string` | `apiKey` | **必須。** APIキーの場所。適切な値は `"query"`、`"header"`のいずれかである。
<a name="securitySchemeFlow"></a>flow | `string` | `oauth2` | **必須。** OAuth2セキュリティスキーマで使用するフロー。適切な値は `"implicit"`、`"password"`、`"application"`、`"accessCode"` のいずれかである。
<a name="securitySchemeAuthorizationUrl"></a>authorizationUrl | `string` | `oauth2` (`"implicit"`, `"accessCode"`) | **必須。** このフローで使用する認証URL。URLの形式になっているほうがよい(SHOULD)。
<a name="securitySchemeTokenUrl"></a>tokenUrl | `string` | `oauth2` (`"password"`, `"application"`, `"accessCode"`) | **必須。** このフローで使用するトークンURL。URLの形式になっているほうがよい(SHOULD)。
<a name="securitySchemeScopes"></a>scopes | [Scopes オブジェクト](#scopesObject) | `oauth2` | **必須。** OAuth2 セキュリティスキーマにおける、利用可能なスコープのリスト。

##### パターン化項目

項目名 | 型 | 説明
---|:---:|---
<a name="securitySchemeExtensions"></a>^x- | Any | Swaggerスキーマを拡張できる。項目名は `x-` で始めなければならない(MUST)。例えば、`x-internal-id`などである。値は `null`、 プリミティブ型、配列、オブジェクトを取りうる。 詳細は[仕様の拡張](#vendorExtensions) を参照。

##### Security Scheme オブジェクトの例

###### Basic 認証の例

```js
{
  "type": "basic"
}
```

```yaml
type: basic
```

###### API キーの例

```js
{
  "type": "apiKey",
  "name": "api_key",
  "in": "header"
}
```

```yaml
type: apiKey
name: api_key
in: header
```

###### Implicit OAuth2 の例

```js
{
  "type": "oauth2",
  "authorizationUrl": "http://swagger.io/api/oauth/dialog",
  "flow": "implicit",
  "scopes": {
    "write:pets": "アカウント内のペットを修正する",
    "read:pets": "自分のペットを読み取る"
  }
}
```

```yaml
type: oauth2
authorizationUrl: http://swagger.io/api/oauth/dialog
flow: implicit
scopes:
  write:pets: アカウント内のペットを修正する
  read:pets: 自分のペットを読み取る
```

#### <a name="scopesObject"></a>Scopes オブジェクト

OAuth2 セキュリティスキーマにおける、利用可能なスコープのリスト。

##### パターン化項目

項目パターン | 型 | 説明
---|:---:|---
<a name="scopesName"></a>{name} | `string` | スコープの名前と短い説明（プロパティの値）を紐付ける。

##### パターン化項目

項目パターン | 型 | 説明
---|:---:|---
<a name="scopesExtensions"></a>^x- | Any | Swaggerスキーマを拡張できる。項目名は `x-` で始めなければならない(MUST)。例えば、`x-internal-id`などである。値は `null`、 プリミティブ型、配列、オブジェクトを取りうる。 詳細は[仕様の拡張](#vendorExtensions) を参照。

##### Scopes オブジェクトの例

```js
{
  "write:pets": "アカウント内のペットを修正する",
  "read:pets": "自分のペットを読み取る"
}
```

```yaml
write:pets: アカウント内のペットを修正する
read:pets: 自分のペットを読み取る
```

#### <a name="securityRequirementObject"></a>Security Requirement オブジェクト

この操作を実行するために必要なセキュリティスキーマのリスト。オブジェクトは、その中に宣言された複数のセキュリティスキーマをすべて必要とすることができる。
（つまり、スキーマ同士のAND条件を設定することになる）

各プロパティの名前は、[Security Definitions オブジェクト](#securityDefinitionsObject) で宣言されたセキュリティスキーマに対応していなければならない(MUST)。

##### パターン化項目

項目パターン | 型 | 説明
---|:---:|---
<a name="securityRequirementsName"></a>{name} | [`string`] | 各プロパティの名前は、[Security Definitions オブジェクト](#securityDefinitionsObject) で宣言されたセキュリティスキーマに対応していなければならない(MUST)。セキュリティスキーマが `"oauth2"` のいずれかの場合、値は実行に必要なスコープの名前のリストである。その他のセキュリティスキーマでは、配列は空でなければならない(MUST)。

##### Security Requirement オブジェクトの例

###### OAuth2 以外の Security Requirement

```js
{
  "api_key": []
}
```

```yaml
api_key: []
```

###### OAuth2 Security Requirement

```js
{
  "petstore_auth": [
    "write:pets",
    "read:pets"
  ]
}
```

```yaml
petstore_auth:
- write:pets
- read:pets
```

### <a name="vendorExtensions"></a>仕様の拡張

Swagger仕様は多くのユースケースに適合することに挑戦しているが、幾つかの場所で仕様を拡張するためにデータを追加することができる。

プロパティの拡張は、常に `"x-"` で始まり、あらゆるJSON形式の値を持つことができる。

拡張はツールによってサポートされるかもしれないし、されないかもしれないが、要求を追加するのと同様にそれらも拡張することができる（ツールが内部向けやオープンソースの場合）。

### <a name="securityFiltering"></a>セキュリティフィルタリング

Swagger 仕様における幾つかのオブジェクトは、それらが本質的にAPI文書の核をなしているものであっても、宣言されているが空の状態になるか、完全に削除されることがある。

この背景には、文書自身へのアクセス制御レイヤを追加できるようにするということがある。仕様自身の一部ではないが、ライブラリによっては文書の一部へのアクセスを、認証や認可によって選択することができる(MAY)。

このことについて２つの例を示す。

1. [Paths オブジェクト](#pathsObject) が空になることがある。これは直観に反するだろうが、ビューアに場所としては正しいがアクセスできる文書がないことを伝えるだろう。認証に関する追加情報があるであろう [Info オブジェクト](#infoObject) には、この状態でもアクセスできる。
2. [Path Item オブジェクト](#pathItemObject) が空になることがある。この場合、ビューアはパスが存在するが、操作やパラメータは見られないことが分かる。これはパス自身が[Paths オブジェクト](#pathsObject)から隠され、パスの存在自体がわからなくなるのとは異なる。文書提供者は、これを利用してビューアが見られる範囲をきめ細かく制御できる。
